##########################################################################
[board_pins]
aliases:
    # EXP1 header
    EXP1_1=PD5, EXP1_3=PB3, EXP1_5=PB5, EXP1_7=PB7, EXP1_9=<GND>,
    EXP1_2=PD4,  EXP1_4=PD6, EXP1_6=PB4, EXP1_8=PB6, EXP1_10=<5V>,
    # EXP2 header
    EXP2_1=PB14, EXP2_3=PB8, EXP2_5=PC10, EXP2_7=PC12,  EXP2_9=<GND>,
    EXP2_2=PB13, EXP2_4=PB9, EXP2_6=PB15, EXP2_8=<RST>, EXP2_10=<NC>


[display]
display_group: _klipper_logo
lcd_type: uc1701
cs_pin: EXP1_3
a0_pin: EXP1_4
rst_pin:  EXP1_5
contrast: 63

encoder_pins: ^EXP2_5, ^EXP2_3  
click_pin: ^!EXP1_2

## Some micro-controller boards may require an spi bus to be specified:
#spi_bus: spi

## Alternatively, some micro-controller boards may work with software spi:
spi_software_miso_pin:  EXP2_1
spi_software_mosi_pin:  EXP2_6
spi_software_sclk_pin:  EXP2_2

[output_pin beeper]
pin:  EXP1_1

[neopixel mks_mini12864]   ## -- don't change name! --
pin: EXP1_6
chain_count: 3 
color_order: RGB
initial_RED: 0.0
initial_GREEN: 0.0
initial_BLUE: 1.0			

# index 1  =  display backlight led
# index 2  =  encoder upper led 
# index 3  =  encoder lower led


#{% if printer['menu'] %}
      ### restore_display_group.cfg ###
#      UPDATE_DELAYED_GCODE ID=main_display_group DURATION=3
#{% endif %}

##########################################################################

[menu __main __octoprint]
type: disabled


[delayed_gcode main_display_group]
initial_duration: 3.0
gcode:
    
        ### LCD 128x64 Rumba 32
        SET_DISPLAY_GROUP GROUP=_default_16x4 ;default screen


###############################################################
#   Define LCD menu  "MKS MINI" in "User settings"
################################################################
#
# Main
# ... 
#  + User settings
#    + Set Display 
#       + Backlight 
#         + Set RED color
#         + Set GREEN color  
#         + Set BLUE color    
#       + Encoder
#         + Led: OFF
#         + Set RED color
#         + Set GREEN color  
#         + Set BLUE color    
#        
#==================================================================

### menu for other user settings ###

[menu __main __user]
type: list
index: 0
name: User menu



### menu MKS MINI ###
[menu __main __user __mks_display]
type: list
enable: {'neopixel mks_mini12864' in printer }     
name: Set Display 

#############################################################

### menu Backlight ###
[menu __main __user __mks_display __backlight]
type: list
name: Backlight

#------------------------------------------------------------- 

### menu Set RED color  
[menu __main __user __mks_display __backlight __red]
type: command
name:  Set RED color
gcode:   

   SET_LED LED=mks_mini12864  SYNC=0  RED=1 GREEN=0 BLUE=0  INDEX=1

    
 #-------------------------------------------------------------  

### menu Set GREEN color  
[menu __main __user __mks_display __backlight __green]
type: command
name:  Set GREEN color
gcode:

   SET_LED LED=mks_mini12864  SYNC=0  RED=0 GREEN=1 BLUE=0  INDEX=1

    
 #-------------------------------------------------------------  

### menu Set BLUE color  
[menu __main __user __mks_display __backlight __blue]
type: command
name:  Set BLUE color
gcode: 

   SET_LED LED=mks_mini12864  SYNC=0  RED=0 GREEN=0 BLUE=1  INDEX=1


#############################################################

### menu Encoder ###
[menu __main __user __mks_display __encoder]
type: list
name: Encoder

#-------------------------------------------------------------

### menu Encoder OFF
[menu __main __user __mks_display __encoder __off]   
type: command
name: LED:  OFF  
gcode:   

   SET_LED LED=mks_mini12864  SYNC=0  RED=0 GREEN=0 BLUE=0  INDEX=2
   SET_LED LED=mks_mini12864  SYNC=0  RED=0 GREEN=0 BLUE=0  INDEX=3


#------------------------------------------------------------- 


### menu Set RED color  
[menu __main __user __mks_display __encoder __red]
type: command
name:  Set RED color
gcode:   

   SET_LED LED=mks_mini12864  SYNC=0  RED=1 GREEN=0 BLUE=0  INDEX=2
   SET_LED LED=mks_mini12864  SYNC=0  RED=1 GREEN=0 BLUE=0  INDEX=3

    
 #-------------------------------------------------------------  

### menu Set GREEN color  
[menu __main __user __mks_display __encoder __green]
type: command
name:  Set GREEN color
gcode:

   SET_LED LED=mks_mini12864  SYNC=0  RED=0 GREEN=1 BLUE=0  INDEX=2
   SET_LED LED=mks_mini12864  SYNC=0  RED=0 GREEN=1 BLUE=0  INDEX=3

    
 #-------------------------------------------------------------  

### menu Set BLUE color  
[menu __main __user __mks_display __encoder __blue]
type: command
name:  Set BLUE color
gcode: 

   SET_LED LED=mks_mini12864  SYNC=0  RED=0 GREEN=0 BLUE=1  INDEX=2
   SET_LED LED=mks_mini12864  SYNC=0  RED=0 GREEN=0 BLUE=1  INDEX=3



###########################################################################
#                                     Klipper logo - 128x64 pixel
#
# ................................................................................................
# ................................................................................................
# .****************..******..............................................******..**************...
# .*****************..******............................................******..***************...
# .******************..******..........................................******..****************...
# ..******************..******........................................******..*****************...
# ...******************..******......................................******..*****************....
# ....******************..******....................................******..*****************.....
# .....******************..******..................................******..*****************......
# ......******************..******................................******..*****************.......
# .......******************..******..............................******..*****************........
# ........******************..******............................******..*****************......... 
# .........******************..******..........................******..*****************..........
# ..........******************..******........................******..*****************...........
# ...........******************..******......................******..*****************............
# ............******************..******....................******..*****************.............
# .............******************..******..................******..*****************..............
# ..............******************..******................******..*****************...............
# ...............******************..******..............******..*****************................
# ................******************..******............******..*****************................. 
# .................******************..******..........******..*****************..................
# ..................******************..******........******..*****************...................
# ...................******************..******......******..*****************....................
# ....................******************..******....******..*****************.....................
# .....................******************..******..******..*****************......................
# ......................******************..************..*****************.......................
# .......................******************..**********..*****************........................
# ........................******************..********..*****************.........................
# .........................******************..******..*****************..........................
# ..........................******************.******.*****************...........................
# ...........................*****************.******.****************............................
# ............................****************.******.***************.............................
# .............................***************.******.**************..............................
# ..............................**************.******.*************...............................
# ...............................*************.******.************................................
# ................................************.******.***********.................................
# .................................***********.******.**********..................................
# ...****........****...****...................******.............................................
# ...****.......*****...****....*********************.............................................
# ...****......*****....****....*********************.............................................
# ...****.....*****.....****....*********************.............................................
# ...****....*****......****......................................................................
# ...****...*****.......****......................................................................
# ...****..*****........****...........********........********............****..........****.....
# ...****.*****.........****....***....**********......**********........********.....*********...
# ...****.****..........****....***....***********.....***********......**********....*********...
# ...****...............****....***....***....*****....***....*****....****...*****...****...**...
# ...****.**............****....***....***.....****....***.....****....***.....****...***.........
# ...****.***...........****....***....***......****...***......****..****.....****...***.........
# ...****.****..........****....***....***......****...***......****..*************...***.........
# ...****.*****.........****....***....***......****...***......****..*************...***.........
# ...****..*****........****....***....***......****...***......****..************....***.........
# ...****...*****.......****....***....***......****...***......****..****............***.........
# ...****....*****......****....***....***.....*****...****....****....***............***.........
# ...****.....*****.....****....***....************....************....****...........***.........
# ...****......*****....****....***....**********......**********.......**********....***.........
# ...****.......*****...****....***....*********.......*********.........*********....***.........
# ...****........****...****....***....***.............***................*******.....***.........
# .....................................***.............***........................................
# .....................................***.............***........................................
# .....................................***.............***........................................
# .....................................***.............***........................................
# .....................................***.............***........................................
# ................................................................................................



################################################
#
#   SET_DISPLAY_GROUP GROUP=_klipper_logo
#
################################################

[display_data _klipper_logo __row0]
position: 0,2
text:   
  ~kl_0_1~~kl_0_2~~kl_0_3~~kl_0_4~~kl_0_5~~kl_0_6~
  
[display_data _klipper_logo __rpw1]
position: 1,2
text: 
  ~kl_1_1~~kl_1_2~~kl_1_3~~kl_1_4~~kl_1_5~~kl_1_6~

[display_data _klipper_logo __row2]
position: 2,2
text: 
 ~kl_2_1~~kl_2_2~~kl_2_3~~kl_2_4~~kl_2_5~~kl_2_6~

[display_data _klipper_logo __row3]
position: 3,2
text:   
 ~kl_3_1~~kl_3_2~~kl_3_3~~kl_3_4~~kl_3_5~~kl_3_6~


#================================================

[display_glyph kl_0_1]
data:
 ................
 ................
 .***************
 .***************
 .***************
 ..**************
 ...*************
 ....************
 .....***********
 ......**********
 .......*********
 ........********
 .........*******
 ..........******
 ...........*****
 ............****

[display_glyph kl_0_2]
data:
 ................
 ................
 *..******.......
 **..******......
 ***..******.....
 ****..******....
 *****..******...
 ******..******..
 *******..******.
 ********..******
 *********..*****
 **********..****
 ***********..***
 ************..**
 *************..*
 **************..


[display_glyph kl_0_3]
data:
 ................
 ................
 ................
 ................
 ................
 ................
 ................
 ................
 ................
 ................
 *...............
 **..............
 ***.............
 ****............
 *****...........
 ******..........


[display_glyph kl_0_4]
data:
 ................
 ................
 ................
 ................
 ................
 ................
 ................
 ................
 ................
 ................
 ...............*
 ..............**
 .............***
 ............****
 ...........*****
 ..........******


[display_glyph kl_0_5]
data:
 ................
 ................
 .......******..*
 ......******..**
 .....******..***
 ....******..****
 ...******..*****
 ..******..******
 .******..*******
 ******..********
 *****..*********
 ****..********** 
 ***..***********
 **..************
 *..*************
 ..**************



[display_glyph kl_0_6]
data:
 ................
 ................
 *************...
 *************...
 *************...
 *************...
 ************....
 ***********.....
 **********......
 *********.......
 ********........
 *******.........
 ******..........
 *****...........
 ****............
 ***.............

#======================================================
[display_glyph kl_1_1]
data:
 .............***
 ..............**
 ...............*
 ................
 ................
 ................
 ................
 ................
 ................
 ................
 ................
 ................
 ................
 ................
 ................
 ................

[display_glyph kl_1_2]
data:
 ***************.
 ****************
 ****************
 ****************
 .***************
 ..**************
 ...*************
 ....************
 .....***********
 ......**********
 .......*********
 ........********
 .........*******
 ..........******
 ...........*****
 ............****

[display_glyph kl_1_3]
data:
 .******.........
 ..******........
 *..******.......
 **..******......
 ***..******.....
 ****..******....
 *****..******...
 ******..******..
 *******..******.
 ********..******
 *********..*****
 **********..****
 ***********..***
 ************.***
 ************.***
 ************.***
 
[display_glyph kl_1_4]
data:
 .........******.
 ........******..
 .......******..*
 ......******..**
 .....******..***
 ....******..****
 ...******..*****
 ..******..******
 .******..*******
 ******..********
 *****..*********
 ****..**********
 ***..***********
 ***.************
 ***.************
 ***.************

[display_glyph kl_1_5]
data:
 .***************
 ****************
 ****************
 ***************.
 **************..
 *************...
 ************....
 ***********.....
 **********......
 *********.......
 ********........
 *******.........
 ******..........
 *****...........
 ****............
 ***.............

[display_glyph kl_1_6]
data:
 **..............
 *...............
 ................
 ................
 ................
 ................
 ................
 ................
 ................
 ................
 ................
 ................
 ................
 ................
 ................
 ................

#======================================================
[display_glyph kl_2_1]
data:
 ................
 ................
 ................
 ................
 ................
 ...****........*
 ...****.......**
 ...****......***
 ...****.....****
 ...****....*****
 ...****...*****.
 ...****..*****..
 ...****.*****...
 ...****.****....
 ...****.........
 ...****.**......

[display_glyph kl_2_2]
data:
 .............***
 ..............**
 ...............*
 ................
 ................
 ***...****......
 ***...****....**
 **....****....**
 *.....****....**
 ......****......
 ......****......
 ......****......
 ......****....**
 ......****....**
 ......****....**
 ......****....**
 
[display_glyph kl_2_3]
data:
 ************.***
 ************.***
 ************.***
 ************.***
 .***********.***
 .............***
 ****************
 ****************
 ****************
 ................
 ................
 .....********...
 *....**********.
 *....***********
 *....***....****
 *....***.....***

[display_glyph kl_2_4]
data:
 ***.************
 ***.************
 ***.************
 ***.***********.
 ***.**********..
 ***.*********...
 ***.............
 ***.............
 ***.............
 ................
 ................
 .....********...
 .....**********.
 .....***********
 *....***....****
 *....***.....***

[display_glyph kl_2_5]
data:
 **..............
 *...............
 ................
 ................
 ................
 ................
 ................
 ................
 ................
 ................
 ................
 .........****...
 .......********.
 ......**********
 *....****...****
 *....***.....***

[display_glyph kl_2_6]
data:
 ................
 ................
 ................
 ................
 ................
 ................
 ................
 ................
 ................
 ................
 ................
 .......****.....
 ....*********...
 ....*********...
 *...****...**...
 *...***.........


#======================================================
[display_glyph kl_3_1]
data:
 ...****.***.....
 ...****.****....
 ...****.*****...
 ...****..*****..
 ...****...*****.
 ...****....*****
 ...****.....****
 ...****......***
 ...****.......**
 ...****........*
 ................
 ................
 ................
 ................
 ................
 ................

[display_glyph kl_3_2]
data:
 ......****....**
 ......****....**
 ......****....**
 ......****....**
 ......****....**
 ......****....**
 *.....****....**
 **....****....**
 ***...****....**
 ***...****....**
 ................
 ................
 ................
 ................
 ................
 ................

[display_glyph kl_3_3]
data:
 *....***......**
 *....***......**
 *....***......**
 *....***......**
 *....***......**
 *....***......**
 *....****....***
 *....***********
 *....**********.
 *....*********..
 .....***........
 .....***........
 .....***........
 .....***........
 .....***........
 ................

[display_glyph kl_3_4]
data:
 **...***......**
 **...***......**
 **...***......**
 **...***......**
 **...***......**
 *....***......**
 *....****....***
 .....***********
 .....**********.
 .....*********..
 .....***........
 .....***........
 .....***........
 .....***........
 .....***........
 ................

[display_glyph kl_3_5]
data:
 **..****.....***
 **..************
 **..************
 **..************
 **..****........
 *....***........
 *....****.......
 ......**********
 .......*********
 ........*******.
 ................
 ................
 ................
 ................
 ................
 ................

[display_glyph kl_3_6]
data:
 *...***.........
 *...***.........
 *...***.........
 ....***.........
 ....***.........
 ....***.........
 ....***.........
 ....***.........
 ....***.........
 ....***.........
 ................
 ................
 ................
 ................
 ................
 ................

