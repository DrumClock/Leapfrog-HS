[gcode_macro TEST]
gcode: 

  {% set user_vars = printer["gcode_macro VARIABLE"] %} 

  
   
  {% if  params.T is defined  %}
      {% set tool = params.T.lstrip("extruder") if params.T.lstrip("extruder")|length != 0 else 0 
         if  'extruder' in  params.T  
         else    params.T %}
  {% else %}                                      
      {% set tool = 'Undefined' %}
  {% endif %}

  {action_respond_info("param T=%s" % tool)}        